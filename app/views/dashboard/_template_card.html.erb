<div class="border border-gray-200 rounded-xl p-6 transition-all duration-300 hover:shadow-lg hover:border-purple-300">
  <div class="flex justify-between items-start mb-4">
    <div>
      <div>
        <h3 class="font-bold text-xl text-gray-900"><%= template.name %></h3>
        <p class="text-gray-500 text-sm">
          <%= template.tags.size %> tags, <%= template.sections.size %> sections
        </p>
      </div>
    </div>
    <div class="relative">
      <button onclick="toggleTemplateMenu(<%= template.id %>, event, '<%= j(template.name) %>', <%= template.tag_ids.to_json %>, <%= template.section_ids.to_json %>)" class="p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors" title="Actions">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
        </svg>
      </button>
    </div>
  </div>
  <div class="mb-4">
    <p class="text-xs text-gray-500 mb-2">TAGS:</p>
    <div class="flex flex-wrap gap-2">
      <% template.tags.each do |tag| %>
        <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium"><%= tag.name %></span>
      <% end %>
    </div>
  </div>
  <div class="mb-4">
    <p class="text-xs text-gray-500 mb-2">SECTIONS:</p>
    <div class="flex flex-wrap gap-2">
      <% template.sections.each do |section| %>
        <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium"><%= section.label %></span>
      <% end %>
    </div>
  </div>
  <div class="flex gap-2">
    <%= link_to "Generate CV", template_path(template), class: "flex-1 px-3 py-2 bg-blue-100 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors text-center" %>
    <div class="relative">
      <button onclick="toggleExportMenu(<%= template.id %>, event)" class="flex-1 px-3 py-2 bg-white text-gray-700 rounded-lg text-sm font-medium border border-gray-300 hover:bg-gray-50 transition-colors w-full">
        Export â–¼
      </button>
    </div>
  </div>
</div>
