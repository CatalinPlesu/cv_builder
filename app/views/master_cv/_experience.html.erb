<%= render 'section_container',
           heading_text: "Experience",
           edit_path: edit_experiences_path do %>

  <% if @experiences.any? %>
    <ul class="space-y-4">
      <% @experiences.each do |exp| %>
        <li class="border-l-4 border-primary pl-4">
          <h3 class="font-bold text-base-content"><%= exp.position_title %></h3>
          <p class="text-base-content/90"><%= exp.company %> – <%= exp.location %></p>
          <p class="text-sm text-base-content/60">
            <% if exp.start_date %>
              <%= exp.start_date.strftime("%b %Y") %>
            <% else %>
              Start Date
            <% end %> –
            <% if exp.current? %>
              Present
            <% elsif exp.end_date %>
              <%= exp.end_date.strftime("%b %Y") %>
            <% else %>
              End Date
            <% end %>
          </p>
          <% if exp.experience_bullets.any? %>
            <ul class="list-disc ml-5 mt-1 text-base-content/90">
              <% exp.experience_bullets.each do |bullet| %>
                <li><%= bullet.content %></li>
              <% end %>
            </ul>
          <% end %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-base-content/60 italic">No experience added yet.</p>
  <% end %>
<% end %>
